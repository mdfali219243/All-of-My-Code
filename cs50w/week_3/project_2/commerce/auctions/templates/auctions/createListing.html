{% extends "auctions/layout.html" %}

{% block body %}
<h1>Create Listing</h1>

{# Display messages (like validation errors from views.py) #}
{% if message %}
<div class="alert alert-danger">{{ message }}</div>
{% endif %}

<form action="{% url 'create_listing' %}" method="post">
    {% csrf_token %}

    <div class="form-group">
        <label for="id_title">Title:</label>
        <input type="text" class="form-control" id="id_title" name="title" placeholder="Enter title for your listing"
            required>
    </div>
    <br>

    <div class="form-group">
        <label for="id_description">Description:</label>
        <textarea class="form-control" id="id_description" name="description"
            placeholder="Provide a detailed description" rows="5" required></textarea>
    </div>
    <br>

    <div class="form-group">
        <label for="id_starting_bid">Starting Bid:</label>
        <input type="number" class="form-control" id="id_starting_bid" name="starting_bid" min="0.01" step="0.01"
            placeholder="e.g., 10.00" required>
    </div>
    <br>

    <div class="form-group">
        <label for="category">Category:</label>
        <select class="form-control" name="category" id="category" required> {# Added 'required' attribute here #}
            <option value="">Select a category</option> {# IMPORTANT: value="" for default selection #}
            {% for category in categories %}
            {# Use category.id for the value and category.name for the display text #}
            <option value="{{ category.id }}">{{ category.name }}</option>
            {% endfor %}
        </select>
    </div>
    <br>

    <div class="form-group">
        <label for="id_image_url">Image URL (optional):</label>
        <input type="url" class="form-control" id="id_image_url" name="image_url" placeholder="Paste image URL here">
    </div>
    <br>

    <input type="submit" value="Create Listing" class="btn btn-primary">
</form>

{% endblock %}